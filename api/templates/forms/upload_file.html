{% extends 'form.html' %}

{% block header %}
    {{ super() }}
    <h1>{% block title %}Upload file{% endblock %}</h1>
{% endblock %}

{% block form_content %}
    {% if image_url %}
    <div style="margin-bottom: 2rem;">
        <p>Image successfully uploaded, url copied to clipboard</p>
        <a href="{{image_url}}" target="_blank" class="yellow" id="image_link">{{ image_url }}</a>
    </div>
    <script>
        const image_link = $("#image_link").attr("href");
        navigator.clipboard.writeText(image_link);
    </script>
    {% endif %}
    
    <form method="post" enctype="multipart/form-data">
        {{ form.csrf_token }}
        {{ form.image.label }}
        {{ form.image(size=20, class="form-control") }}
        <input type="submit" value="Upload image">
    </form>
{% endblock %}